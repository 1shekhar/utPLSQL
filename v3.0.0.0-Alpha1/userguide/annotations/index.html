<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Annotations - utPLSQL</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">utPLSQL</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../install/">Installation</a>
</li>
                            
<li >
    <a href="../getting-started/">Getting Started</a>
</li>
                            
<li class="active">
    <a href="./">Annotations</a>
</li>
                            
<li >
    <a href="../assertions/">Assertions</a>
</li>
                            
<li >
    <a href="../best-practices/">Testing Best Pracitces</a>
</li>
                            
<li >
    <a href="../upgrade/">Upgrade utPLSQL</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../about/project-details/">Project Details</a>
</li>
                            
<li >
    <a href="../../about/license/">License</a>
</li>
                            
<li >
    <a href="../../about/support/">Support</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../getting-started/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../assertions/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/utplsql/utplsql/">
                                <i class="fa fa-github"></i>GitHub
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#annotations">Annotations</a></li>
        <li class="main "><a href="#example-of-annotated-package">Example of annotated package</a></li>
        <li class="main "><a href="#annotations-meaning">Annotations meaning</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="annotations">Annotations</h1>
<p>Annotations provide a way to configure tests and suites in a declarative way similar to modern OOP languages.
The annotation list is based on moder testing framework such as jUnit 5, RSpec.</p>
<p>Annotations allow to configure test infrastructure in a declarative way without anything stored in tables or config files. The framework runner scans the schema for all the suitable annotated packages, automatically configures suites, forms hierarchy from then and executes them.</p>
<h1 id="example-of-annotated-package">Example of annotated package</h1>
<pre><code>create or replace package test_pkg is

  -- %suite(Name of suite)
  -- %suitepath(all.globaltests)

  -- %beforeall
  procedure globalsetup;

  -- %afterall
  procedure global_teardown;

  /* Such comments are allowed */

  -- %test
  -- %displayname(Name of test1)
  procedure test1;

  -- %test(Name of test2)
  -- %beforetest(setup_test1)
  -- %aftertest(teardown_test1)
  procedure test2;

  -- %test
  -- %displayname(Name of test3)
  -- %disable
  procedure test3;

  -- %test(Name of test4)
  -- %rollback(manual)
  procedure test4;

  procedure setup_test1;

  procedure teardown_test1;

  -- %beforeeach
  procedure setup;

  -- %aftereach
  procedure teardown;

end test_pkg;
</code></pre>

<h1 id="annotations-meaning">Annotations meaning</h1>
<table>
<thead>
<tr>
<th>Annotation</th>
<th>Level</th>
<th>Describtion</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%suite(&lt;description&gt;)</code></td>
<td>Package</td>
<td>Marks package to be a suite of tests This way all testing packages might be found in a schema. Optional schema discription can by provided, similar to <code>%displayname</code> annotation.</td>
</tr>
<tr>
<td><code>%suitepath(&lt;path&gt;)</code></td>
<td>Package</td>
<td>Similar to java package. The annotation allows logical grouping of suites into hierarcies.</td>
</tr>
<tr>
<td><code>%displayname(&lt;description&gt;)</code></td>
<td>Package/procedure</td>
<td>Human-familiar describtion of the suite/test. Syntax is based on jUnit annotation: <code>%displayname(Name of the suite/test)</code></td>
</tr>
<tr>
<td><code>%test(&lt;description&gt;)</code></td>
<td>Procedure</td>
<td>Denotes that a method is a test method.  Optional test discription can by provided, similar to <code>%displayname</code> annotation.</td>
</tr>
<tr>
<td><code>%beforeall</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed once before all elements of the current suite.</td>
</tr>
<tr>
<td><code>%afterall</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed once after all elements of the current suite.</td>
</tr>
<tr>
<td><code>%beforeeach</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed before each <code>%test</code> method in the current suite.</td>
</tr>
<tr>
<td><code>%aftereach</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed after each <code>%test</code> method in the current suite.</td>
</tr>
<tr>
<td><code>%beforetest(&lt;procedure_name&gt;)</code></td>
<td>Procedure</td>
<td>Denotes that mentioned procedure should be executed before the annotated <code>%test</code> procedure.</td>
</tr>
<tr>
<td><code>%aftertest(&lt;procedure_name&gt;)</code></td>
<td>Procedure</td>
<td>Denotes that mentioned procedure should be executed after the annotated <code>%test</code> procedure.</td>
</tr>
<tr>
<td><code>%rollback(&lt;type&gt;)</code></td>
<td>Package/procedure</td>
<td>Configure transaction control behaviour (type). Supported values: <code>auto</code>(default) - rollback to savepoint (before the test/suite setup) is issued after each test/suite teardown; <code>manual</code> - rollback is never issued automatically. Property can be overridden for child element (test in suite)</td>
</tr>
<tr>
<td><code>%disable</code></td>
<td>Package/procedure</td>
<td>Used to disable a suite or a test</td>
</tr>
</tbody>
</table></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - utPLSQL Team</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
